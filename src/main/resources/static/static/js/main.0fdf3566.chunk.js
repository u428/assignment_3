(this.webpackJsonpassignment_3=this.webpackJsonpassignment_3||[]).push([[0],{40:function(e,t,c){},67:function(e,t,c){"use strict";c.r(t);var a=c(1),n=c.n(a),s=c(34),i=c.n(s),r=(c(40),c(12)),l=c(13),o=c(16),d=c(15),j=c(5),b=c(4),u=c(0);var h=Object(b.f)((function(e){return e.isAuthenticated?"ADMIN"===e.role?Object(u.jsxs)("div",{className:"container",children:[Object(u.jsx)("h3",{children:e.currentUser.name}),Object(u.jsxs)("ul",{className:"nav nav-tabs justify-content-end",role:"tablist",children:[Object(u.jsx)("li",{className:"nav-item mr-sm-1",children:Object(u.jsx)(j.b,{className:"nav-link",to:"/",children:"Home"})}),Object(u.jsx)("li",{className:"nav-item mr-sm-1",children:Object(u.jsx)(j.b,{className:"nav-link ",to:"/category",children:"Categories"})}),Object(u.jsx)("li",{className:"nav-item mr-sm-1",children:Object(u.jsx)(j.b,{className:"nav-link ",to:"/setProduct",children:"Set Products"})}),Object(u.jsx)("li",{className:"nav-item mr-sm-1",children:Object(u.jsx)(j.b,{className:"nav-link ",to:"/invoice",children:"All Invoices"})}),Object(u.jsx)("li",{className:"nav-item mr-sm-1",children:Object(u.jsx)(j.b,{className:"nav-link",to:"/settings",children:"Settings"})}),Object(u.jsx)("li",{className:"nav-item mr-sm-1",children:Object(u.jsx)("button",{className:"nav-link",onClick:function(){e.logout()},children:"Log out"})})]})]}):Object(u.jsxs)("div",{className:"container",children:[Object(u.jsx)("h3",{children:e.currentUser.name}),Object(u.jsxs)("ul",{className:"nav nav-tabs justify-content-end",role:"tablist",children:[Object(u.jsx)("li",{className:"nav-item mr-sm-5",children:Object(u.jsx)(j.b,{className:"nav-link",to:"/",children:"Home"})}),Object(u.jsx)("li",{className:"nav-item mr-sm-5",children:Object(u.jsx)(j.b,{className:"nav-link ",to:"/karzinka",children:"Karzinka"})}),Object(u.jsx)("li",{className:"nav-item mr-sm-5",children:Object(u.jsx)(j.b,{className:"nav-link ",to:"/invoice",children:"Invoice"})}),Object(u.jsx)("li",{className:"nav-item mr-sm-5",children:Object(u.jsx)(j.b,{className:"nav-link",to:"/settings",children:"Settings"})}),Object(u.jsx)("li",{className:"nav-item mr-sm-1",children:Object(u.jsx)("button",{className:"nav-link",onClick:function(){e.logout()},children:"Log out"})})]})]}):Object(u.jsxs)("div",{className:"container",children:[Object(u.jsx)("h3",{children:"Assignment 3"}),Object(u.jsxs)("ul",{className:"nav nav-tabs justify-content-end",role:"tablist",children:[Object(u.jsx)("li",{className:"nav-item mr-sm-5",children:Object(u.jsx)(j.b,{className:"nav-link ",to:"/signUp",children:"Sign Up"})}),Object(u.jsx)("li",{className:"nav-item mr-sm-5",children:Object(u.jsx)(j.b,{className:"nav-link",to:"/login",children:"Login"})})]})]})})),m=c(14),O=c(19),x=c.n(O),p="accessToken",g=function(e){var t;return localStorage.getItem(p)&&(t={Authorization:localStorage.getItem(p)}),"GET"===e.method?x.a.get(e.url,{headers:t}):"POST"===e.method?x.a.post(e.url,e.body,{headers:t}):"PUT"===e.method?x.a.put(e.url,e.body,{headers:t}):x.a.delete(e.url,{headers:t})};function f(e,t){if(localStorage.getItem(p))return g({url:"/all/getProducts?limit="+e+"&page="+t,method:"GET"})}function v(e){if(localStorage.getItem(p))return g({url:"/all/getproduct?id="+e,method:"GET"})}function N(){if(localStorage.getItem(p))return g({url:"/all/getAllCategory",method:"GET"})}function S(e,t,c){if(localStorage.getItem(p))return g({url:"/all/sortProductByCategory?id="+e+"&limit="+t+"&page="+c,method:"GET"})}function y(e){if(localStorage.getItem(p))return g({url:"/customer/addKarzinka",method:"POST",body:e})}function C(e,t){if(localStorage.getItem(p))return g({url:"/customer/updateDetails?id="+e+"&quantity="+t,method:"PUT"})}var k=function(e){Object(o.a)(c,e);var t=Object(d.a)(c);function c(e){var a;return Object(r.a)(this,c),(a=t.call(this,e)).change=function(e){a.setState(Object(m.a)({},e.target.name,e.target.value))},a.onSubmit=function(e){e.preventDefault();var t,c={phone:a.state.phone,password:a.state.password};(t=c,g({url:"/auth/login",method:"POST",body:t})).then((function(e){200===e.status&&(localStorage.setItem(p,e.headers.authorization),window.location.reload())}))},a.state={isShown:"password",phone:"",password:""},a}return Object(l.a)(c,[{key:"render",value:function(){return Object(u.jsx)("div",{className:"cotainer mt-5",children:Object(u.jsx)("div",{className:"row justify-content-center",children:Object(u.jsx)("div",{className:"col-md-8",children:Object(u.jsxs)("div",{className:"card bg-light",children:[Object(u.jsx)("div",{className:"card-header",children:"Log In"}),Object(u.jsx)("div",{className:"card-body",children:Object(u.jsxs)("form",{onSubmit:this.onSubmit,children:[Object(u.jsxs)("div",{className:"form-group row",children:[Object(u.jsx)("label",{className:"col-md-4 col-form-label text-md-right",children:"Tel Nomer"}),Object(u.jsx)("div",{className:"col-md-6",children:Object(u.jsx)("input",{type:"text",className:"form-control",name:"phone",value:this.state.phone,onChange:this.change,placeholder:"Ex: xx xxx xx xx",required:!0,autoFocus:!0})})]}),Object(u.jsxs)("div",{className:"form-group row",children:[Object(u.jsx)("label",{className:"col-md-4 col-form-label text-md-right",children:"Password"}),Object(u.jsx)("div",{className:"col-md-6",children:Object(u.jsx)("input",{type:"password",className:"form-control",value:this.state.password,onChange:this.change,name:"password",placeholder:"Enter your password",required:!0})})]}),Object(u.jsx)("div",{className:"form-group row",children:Object(u.jsx)("div",{className:"col-md-6 offset-md-4",children:Object(u.jsx)("div",{className:"checkbox",children:Object(u.jsxs)("label",{children:[Object(u.jsx)("input",{type:"checkbox",name:"remember"})," Remember Me"]})})})}),Object(u.jsxs)("div",{className:"col-md-6 offset-md-4",children:[Object(u.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Log In"}),Object(u.jsx)("a",{href:"#",className:"btn btn-link",children:"Forgot Your Password?"})]})]})})]})})})})}}]),c}(a.Component),E=c(2);function w(){var e=Object(a.useState)([]),t=Object(E.a)(e,2),c=t[0],n=t[1],s=Object(a.useState)(0),i=Object(E.a)(s,2),r=i[0],l=i[1],o=Object(a.useState)([]),d=Object(E.a)(o,2),b=d[0],h=d[1],m=Object(a.useState)(1),O=Object(E.a)(m,2),x=O[0],p=O[1],g=Object(a.useState)(6),v=Object(E.a)(g,2),C=v[0],k=(v[1],Object(a.useState)(0)),w=Object(E.a)(k,2),P=w[0],I=w[1],M=Object(a.useState)(0),A=Object(E.a)(M,2),T=A[0],U=A[1];return Object(a.useEffect)((function(){f(C,x).then((function(e){n(e.data.content),I(e.data.totalElements),U(e.data.totalPages)})),N().then((function(e){h(e.data)}))}),[r]),Object(u.jsxs)("div",{className:"container mt-3",children:[Object(u.jsxs)("select",{className:"btn btn-info btn-md btn-block mb-3",name:"cars",id:"cars",onChange:function(e){var t;"-1"===(t=e.target.value)?l(r+1):(p(1),S(t,C,x).then((function(e){n(e.data.content),I(e.data.totalElements),U(e.data.totalPages)})))},children:[Object(u.jsx)("option",{value:"-1",children:"All"}),b.map((function(e){return Object(u.jsx)("option",{value:e.id,children:e.name})}))]}),Object(u.jsx)("div",{className:"form-group",children:Object(u.jsxs)("div",{className:"input-group-prepend",children:[Object(u.jsx)("p",{className:"form-control",children:"Topilganlari"}),Object(u.jsx)("p",{className:"form-control",children:P}),Object(u.jsx)("p",{className:"form-control",children:"Oxirgi page"}),Object(u.jsx)("p",{className:"form-control",children:T})]})}),c.map((function(e){return Object(u.jsx)("div",{className:"container mt-3",style:{display:"inline-block",width:"340px"},children:Object(u.jsxs)("div",{className:"card",style:{width:"300px",height:"420px"},children:[Object(u.jsx)("img",{className:"card-img-top",src:"http://localhost:8040/auth/image?id=".concat(e.photos[0].id),alt:"Card",height:"200px"}),Object(u.jsxs)("div",{className:"card-body",children:[Object(u.jsxs)("h4",{className:"card-title",children:["ID: ",e.id]}),Object(u.jsxs)("p",{className:"card-text",children:["Name: ",e.name," , Description: ",e.description]}),Object(u.jsxs)("p",{className:"card-text",children:["Price: ",e.price]}),Object(u.jsx)(j.b,{className:"btn btn-primary mr-2",to:"/seeMore/"+e.id,children:"See profil"}),Object(u.jsx)("button",{className:"btn btn-primary",onClick:function(){y({product_id:e.id,product_quantity:1}).then((function(e){alert("SUCCESS")}))},children:"add Karzinka"})]})]})},e.id)})),Object(u.jsx)("div",{children:Object(u.jsxs)("ul",{className:"pagination",children:[Object(u.jsx)("li",{className:"page-item",children:Object(u.jsx)("button",{className:"page-link",onClick:function(){x>1&&(p(x-1),l(r+1))},children:" Previous"})}),Object(u.jsx)("li",{className:"page-link",children:x}),Object(u.jsx)("li",{className:"page-item",children:Object(u.jsx)("button",{className:"page-link",onClick:function(){x<T&&(p(x+1),l(r+1))},children:"Next"})})]})})]})}function P(){var e=Object(a.useState)([]),t=Object(E.a)(e,2),c=t[0],n=t[1],s=Object(a.useState)(0),i=Object(E.a)(s,2),r=i[0],l=i[1],o=Object(a.useState)([]),d=Object(E.a)(o,2),b=d[0],h=d[1],m=Object(a.useState)(1),O=Object(E.a)(m,2),x=O[0],v=O[1],y=Object(a.useState)(6),C=Object(E.a)(y,2),k=C[0],w=(C[1],Object(a.useState)(0)),P=Object(E.a)(w,2),I=P[0],M=P[1],A=Object(a.useState)(0),T=Object(E.a)(A,2),U=T[0],L=T[1];function D(e){(function(e){if(localStorage.getItem(p))return g({url:"/admin/deleteProduct?id="+e,method:"DELETE"})})(e).then((function(e){l(r+1)}))}return Object(a.useEffect)((function(){f(k,x).then((function(e){n(e.data.content),M(e.data.totalElements),L(e.data.totalPages)})),N().then((function(e){h(e.data)}))}),[r]),Object(u.jsxs)("div",{className:"container mt-3",children:[Object(u.jsxs)("select",{className:"btn btn-info btn-md btn-block mb-3",name:"cars",id:"cars",onChange:function(e){var t;"-1"===(t=e.target.value)?l(r+1):(v(1),S(t,k,x).then((function(e){n(e.data.content),M(e.data.totalElements),L(e.data.totalPages)})))},children:[Object(u.jsx)("option",{value:"-1",children:"All"}),b.map((function(e){return Object(u.jsx)("option",{value:e.id,children:e.name})}))]}),Object(u.jsx)("div",{className:"form-group",children:Object(u.jsxs)("div",{className:"input-group-prepend",children:[Object(u.jsx)("p",{className:"form-control",children:"Topilganlari"}),Object(u.jsx)("p",{className:"form-control",children:I}),Object(u.jsx)("p",{className:"form-control",children:"Oxirgi page"}),Object(u.jsx)("p",{className:"form-control",children:U})]})}),c.map((function(e){return Object(u.jsx)("div",{className:"container mt-3",style:{display:"inline-block",width:"340px"},children:Object(u.jsxs)("div",{className:"card",style:{width:"300px",height:"420px"},children:[Object(u.jsx)("img",{className:"card-img-top",src:"http://localhost:8040/auth/image?id=".concat(e.photos[0].id),alt:"Card",height:"200px"}),Object(u.jsxs)("div",{className:"card-body",children:[Object(u.jsxs)("h4",{className:"card-title",children:["ID: ",e.id]}),Object(u.jsxs)("p",{className:"card-text",children:["Name: ",e.name]}),Object(u.jsxs)("p",{className:"card-text",children:["Description: ",e.description]}),Object(u.jsx)(j.b,{className:"btn btn-primary",to:"/editProduct/"+e.id,children:"See profil"}),Object(u.jsx)("button",{className:"btn btn-danger ml-2",onClick:function(){return D(e.id)},children:"Delete Product"})]})]})},e.id)})),Object(u.jsx)("div",{children:Object(u.jsxs)("ul",{className:"pagination",children:[Object(u.jsx)("li",{className:"page-item",children:Object(u.jsx)("button",{className:"page-link",onClick:function(){x>1&&(v(x-1),l(r+1))},children:" Previous"})}),Object(u.jsx)("li",{className:"page-link",children:x}),Object(u.jsx)("li",{className:"page-item",children:Object(u.jsx)("button",{className:"page-link",onClick:function(){x<U&&(v(x+1),l(r+1))},children:"Next"})})]})})]})}var I=c(24),M=c(18),A=function(e){Object(o.a)(c,e);var t=Object(d.a)(c);function c(e){var a;return Object(r.a)(this,c),(a=t.call(this,e)).exporting=function(e){if(e.preventDefault(),console.log(a.isFormInvalid),a.isFormInvalid){var t={name:a.state.name.value,country:a.state.country.value,address:a.state.address.value,phone:a.state.phone.value,password:a.state.password.value};(c=t,g({url:"/auth/signUp",method:"POST",body:c})).then((function(e){console.log(e),a.props.history.push("/")}))}var c},a.validateName=function(e){if(""!==e)return e.length<3?{validateStatus:!0,errorMsg:"Name is too short (Minimum 3 characters needed.)"}:e.length>20?{validateStatus:!0,errorMsg:"Name is too long (Maximum 20 characters allowed.)"}:{validateStatus:!1,errorMsg:null}},a.validateAddress=function(e){if(""!==e)return e<10?{validateStatus:!0,errorMsg:"Address must be higher then 10 character"}:e>30?{validateStatus:!0,errorMsg:"Address is too long (Maximum 30 characters allowed.)"}:{validateStatus:!1,errorMsg:null}},a.validateCountry=function(e){if(""!==e)return e.length<3?{validateStatus:!0,errorMsg:"Country is too short (Minimum 3 characters needed.)"}:e.length>20?{validateStatus:!0,errorMsg:"Country is too long (Maximum 20 characters allowed.)"}:{validateStatus:!1,errorMsg:null}},a.validatePhone=function(e){if(""!==e)return 9===e.length?{validateStatus:!1,errorMsg:null}:{validateStatus:!0,errorMsg:"Country is too long (Maximum 9 characters allowed.)"}},a.state={name:{value:""},country:{value:""},address:{value:""},phone:{value:""},password:{value:void 0},confirmPass:{value:void 0}},a.validatePhoneAvailability=a.validatePhoneAvailability.bind(Object(M.a)(a)),a.validateConfPasswordAbility=a.validateConfPasswordAbility.bind(Object(M.a)(a)),a}return Object(l.a)(c,[{key:"handleInputChange",value:function(e,t){var c=e.target,a=c.name,n=c.value;this.setState(Object(m.a)({},a,Object(I.a)({value:n},t(n))))}},{key:"isFormInvalid",value:function(){return!this.state.name.validateStatus&&!this.state.country.validateStatus&&!this.state.address.validateStatus&&!this.state.phone.validateStatus&&!this.state.password.validateStatus&&!this.state.confirmPass.validateStatus}},{key:"render",value:function(){var e=this;return Object(u.jsx)("div",{className:"cotainer mt-5",children:Object(u.jsx)("div",{className:"row justify-content-center",children:Object(u.jsx)("div",{className:"col-md-8",children:Object(u.jsxs)("div",{className:"card bg-light",children:[Object(u.jsx)("div",{className:"card-header",children:"Sign Up"}),Object(u.jsx)("div",{className:"card-body",children:Object(u.jsxs)("form",{onSubmit:this.exporting,children:[Object(u.jsxs)("div",{className:"form-group row",children:[Object(u.jsx)("label",{className:"col-md-4 col-form-label text-md-right",children:"Name"}),Object(u.jsx)("div",{className:"col-md-6",children:Object(u.jsx)("input",{type:"text",className:"form-control",name:"name",placeholder:"Enter your FirstName",value:this.state.name.value,onChange:function(t){return e.handleInputChange(t,e.validateName)},required:!0})}),Object(u.jsx)("label",{className:"col-md-6 col-form-label text-md-right",children:this.state.name.errorMsg})]}),Object(u.jsxs)("div",{className:"form-group row",children:[Object(u.jsx)("label",{className:"col-md-4 col-form-label text-md-right",children:"Country"}),Object(u.jsx)("div",{className:"col-md-6",children:Object(u.jsx)("input",{type:"text",className:"form-control",name:"country",placeholder:"Enter your country",value:this.state.country.value,onChange:function(t){return e.handleInputChange(t,e.validateCountry)},required:!0})}),Object(u.jsx)("label",{className:"col-md-6 col-form-label text-md-right",children:this.state.country.errorMsg})]}),Object(u.jsxs)("div",{className:"form-group row",children:[Object(u.jsx)("label",{className:"col-md-4 col-form-label text-md-right",children:"Address"}),Object(u.jsx)("div",{className:"col-md-6",children:Object(u.jsx)("input",{type:"text",className:"form-control",name:"address",placeholder:"Enter your address",value:this.state.address.value,onChange:function(t){return e.handleInputChange(t,e.validateAddress)},required:!0})}),Object(u.jsx)("label",{className:"col-md-6 col-form-label text-md-right",children:this.state.address.errorMsg})]}),Object(u.jsxs)("div",{className:"form-group row",children:[Object(u.jsx)("label",{className:"col-md-4 col-form-label text-md-right",children:"Tel Nomer"}),Object(u.jsx)("div",{className:"col-md-6",children:Object(u.jsx)("input",{type:"phone",className:"form-control",name:"phone",placeholder:"Enter your phone",value:this.state.phone.value,onChange:function(t){return e.handleInputChange(t,e.validatePhone)},onBlur:this.validatePhoneAvailability,required:!0})}),Object(u.jsx)("label",{className:"col-md-6 col-form-label text-md-right",children:this.state.phone.errorMsg})]}),Object(u.jsxs)("div",{className:"form-group row",children:[Object(u.jsx)("label",{className:"col-md-4 col-form-label text-md-right",children:"Password"}),Object(u.jsx)("div",{className:"col-md-6",children:Object(u.jsx)("input",{className:"form-control",type:"password",name:"password",placeholder:"Enter your password",value:this.state.password.value,onChange:function(t){return e.handleInputChange(t,e.validatePassword)},required:!0})}),Object(u.jsx)("label",{className:"col-md-6 col-form-label text-md-right",children:this.state.password.errorMsg})]}),Object(u.jsxs)("div",{className:"form-group row",children:[Object(u.jsx)("label",{className:"col-md-4 col-form-label text-md-right",children:"Confirm Password"}),Object(u.jsx)("div",{className:"col-md-6",children:Object(u.jsx)("input",{type:"password",className:"form-control",name:"confirmPass",placeholder:"Confirm the password",value:this.state.confirmPass.value,onChange:function(t){return e.handleInputChange(t,e.validateConfPasswordAbility)},required:!0})}),Object(u.jsx)("label",{className:"col-md-6 col-form-label text-md-right",children:this.state.confirmPass.errorMsg})]}),Object(u.jsx)("div",{className:"col-md-6 offset-md-4",children:Object(u.jsx)("button",{className:"btn btn-primary",children:"Sign Up"})})]})})]})})})})}},{key:"validatePhoneAvailability",value:function(){var e,t=this,c=this.state.phone.value,a=this.validatePhone(c);if(a){if(!0===a.validateStatus)return void this.setState({phone:Object(I.a)({value:c},a)});(e=c,g({url:"/auth/checkTelNomer?tel="+e,method:"GET"})).then((function(e){1===e.data?t.setState({phone:{value:c,validateStatus:!1,errorMsg:null}}):t.setState({phone:{value:c,validateStatus:"error",errorMsg:"this telephone is already taken"}})})).catch((function(e){t.setState({phone:{value:c,validateStatus:"error",errorMsg:null}})}))}}},{key:"validatePassword",value:function(e){return e<5?{validateStatus:!0,errorMsg:"password must greter than 5 character"}:{validateStatus:!1,errorMsg:null}}},{key:"validateConfPasswordAbility",value:function(e){return e===this.state.password.value?{validateStatus:!1,errorMsg:null}:{validateStatus:!0,errorMsg:"this is not confirm"}}}]),c}(n.a.Component);function T(){return Object(u.jsx)("div",{children:Object(u.jsx)("h2",{children:"Hello from Settings"})})}function U(){var e=Object(a.useState)([]),t=Object(E.a)(e,2),c=t[0],n=t[1],s=Object(a.useState)(""),i=Object(E.a)(s,2),r=i[0],l=i[1],o=Object(a.useState)(0),d=Object(E.a)(o,2),j=d[0],b=d[1],h=Object(a.useState)(0),m=Object(E.a)(h,2),O=m[0],x=m[1];function f(){0===j&&""!==r?function(e){if(localStorage.getItem(p))return g({url:"/admin/addCategory?categoryName="+e,method:"POST"})}(r).then((function(e){l(""),x(O+1)})):""!==r&&function(e,t){if(localStorage.getItem(p))return g({url:"/admin/putcategory?id="+e+"&categoryName="+t,method:"PUT"})}(j,r).then((function(e){x(O+1),l(""),b(0)}))}function v(e){(function(e){if(localStorage.getItem(p))return g({url:"/admin/deleteCategory?id="+e,method:"DELETE"})})(e).then((function(e){x(O+1)}))}return Object(a.useEffect)((function(){N().then((function(e){n(e.data)}))}),[O]),Object(u.jsxs)("div",{children:[Object(u.jsxs)("table",{className:"mt-3 table table-striped text-center table-bordered table-hover table-sm",children:[Object(u.jsx)("thead",{children:Object(u.jsxs)("tr",{children:[Object(u.jsx)("td",{children:"ID"}),Object(u.jsx)("td",{children:"NAME"}),Object(u.jsx)("td",{children:"Functions"})]})}),Object(u.jsx)("tbody",{children:c.map((function(e){return Object(u.jsxs)("tr",{children:[Object(u.jsx)("td",{children:e.id}),Object(u.jsx)("td",{children:e.name}),Object(u.jsxs)("td",{children:[Object(u.jsx)("button",{className:"btn btn-outline-danger btn-sm mr-sm-2",onClick:function(){console.log("object"),v(e.id)},children:"delete"}),Object(u.jsx)("button",{className:"btn btn-outline-info btn-sm mr-sm-2",onClick:function(){b(e.id),l(e.name)},children:"Edit"})]})]},e.id)}))})]}),Object(u.jsx)("div",{className:"container mt-3",children:Object(u.jsxs)("div",{className:"justify-content-center",children:[Object(u.jsx)("div",{className:"form-group form-group-lg",children:Object(u.jsx)("input",{className:"form-control",type:"test",name:"categoryName",value:r,onChange:function(e){l(e.target.value)},placeholder:"Enter Product Name"})}),Object(u.jsx)("div",{children:Object(u.jsx)("button",{className:"btn btn-info btn-sm btn-block",onClick:function(){return f()},children:"Submit"})})]})})]})}function L(){var e=Object(a.useState)(""),t=Object(E.a)(e,2),c=t[0],n=t[1],s=Object(a.useState)(""),i=Object(E.a)(s,2),r=i[0],l=i[1],o=Object(a.useState)(""),d=Object(E.a)(o,2),j=d[0],b=d[1],h=Object(a.useState)(-1),m=Object(E.a)(h,2),O=m[0],x=m[1],f=Object(a.useState)(void 0),v=Object(E.a)(f,2),S=v[0],y=v[1],C=Object(a.useState)(void 0),k=Object(E.a)(C,2),w=k[0],P=k[1],I=Object(a.useState)(void 0),M=Object(E.a)(I,2),A=M[0],T=M[1],U=Object(a.useState)(void 0),L=Object(E.a)(U,2),D=L[0],q=L[1],F=Object(a.useState)(void 0),G=Object(E.a)(F,2),R=G[0],z=G[1],_=Object(a.useState)(void 0),B=Object(E.a)(_,2),K=B[0],H=B[1],J=Object(a.useState)(void 0),Y=Object(E.a)(J,2),X=Y[0],Q=Y[1],V=Object(a.useState)(void 0),W=Object(E.a)(V,2),Z=W[0],$=W[1],ee=Object(a.useState)(""),te=Object(E.a)(ee,2),ce=te[0],ae=(te[1],Object(a.useState)([])),ne=Object(E.a)(ae,2),se=ne[0],ie=ne[1];function re(e){var t=new FormData;t.append("name",c),t.append("price",j),t.append("description",r),t.append("categoryId",e),t.append("files",S),t.append("files",w),t.append("files",A),t.append("files",D),function(e){if(localStorage.getItem(p))return g({url:"/admin/addProduct",method:"POST",body:e})}(t).then((function(e){l(""),n(""),b(""),x(""),y(void 0),P(void 0),T(void 0),q(void 0),z(void 0),H(void 0),Q(void 0),$(void 0)}))}return Object(a.useEffect)((function(){N().then((function(e){ie(e.data)}))}),[]),Object(u.jsx)("div",{className:"container mt-3",children:Object(u.jsxs)("div",{className:"justify-content-center",children:[Object(u.jsx)("div",{className:"form-group form-group-lg",children:Object(u.jsx)("input",{className:"form-control",type:"test",name:"name",value:c,onChange:function(e){n(e.target.value)},placeholder:"Enter Product Name"})}),Object(u.jsx)("div",{className:"form-group form-group-sm",children:Object(u.jsx)("input",{className:"form-control",type:"number",name:"price",value:j,onChange:function(e){b(e.target.value)},placeholder:"Enter Product Cost"})}),Object(u.jsx)("div",{className:"form-group form-group-sm",children:Object(u.jsx)("input",{className:"form-control col-cover-fill",type:"text",name:"description",value:r,onChange:function(e){l(e.target.value)},placeholder:"Enter other description"})}),Object(u.jsxs)("table",{className:"mt-3 table table-striped text-center table-bordered table-hover table-sm",children:[Object(u.jsx)("thead",{children:Object(u.jsxs)("tr",{children:[Object(u.jsx)("td",{children:"Images"}),Object(u.jsx)("td",{children:"See images"})]})}),Object(u.jsxs)("tbody",{children:[Object(u.jsxs)("tr",{children:[Object(u.jsx)("td",{children:Object(u.jsx)("input",{type:"file",placeholder:"file1",value:ce,onChange:function(e){y(e.target.files[0]),z(URL.createObjectURL(e.target.files[0])),console.log(e.target.files[0])}})}),Object(u.jsx)("td",{children:Object(u.jsx)("img",{src:R,height:"200px",width:"200px"})})]}),Object(u.jsxs)("tr",{children:[Object(u.jsx)("td",{width:"300px",children:Object(u.jsx)("input",{type:"file",placeholder:"file1",onChange:function(e){P(e.target.files[0]),H(URL.createObjectURL(e.target.files[0]))}})}),Object(u.jsx)("td",{children:Object(u.jsx)("img",{src:K,height:"200px"})})]}),Object(u.jsxs)("tr",{children:[Object(u.jsx)("td",{children:Object(u.jsx)("input",{type:"file",placeholder:"file1",onChange:function(e){T(e.target.files[0]),Q(URL.createObjectURL(e.target.files[0]))}})}),Object(u.jsx)("td",{children:Object(u.jsx)("img",{src:X,height:"200px"})})]}),Object(u.jsxs)("tr",{children:[Object(u.jsx)("td",{children:Object(u.jsx)("input",{type:"file",placeholder:"file1",onChange:function(e){q(e.target.files[0]),$(URL.createObjectURL(e.target.files[0]))}})}),Object(u.jsx)("td",{children:Object(u.jsx)("img",{src:Z,height:"200px"})})]})]})]}),Object(u.jsx)("select",{className:"btn btn-info btn-md btn-block mb-3",name:"cars",id:"cars",onChange:function(e){x(e.target.value)},children:se.map((function(e){return Object(u.jsx)("option",{value:e.id,children:e.name})}))}),Object(u.jsx)("div",{children:Object(u.jsx)("button",{className:"btn btn-info btn-md btn-block mb-5",onClick:function(){-1===O?se!=[]&&(x(se[0].id),re(se[0].id)):re(O)},children:"Submit"})})]})})}function D(){var e=Object(a.useState)([]),t=Object(E.a)(e,2),c=t[0],n=t[1],s=Object(a.useState)(0),i=Object(E.a)(s,2),r=i[0];i[1];return Object(a.useEffect)((function(){(function(){if(localStorage.getItem(p))return g({url:"/admin/allInvoices",method:"GET"})})().then((function(e){var t=[].concat(e.data).sort((function(e,t){return e.id<t.id?1:-1}));n(t)}))}),[r]),Object(u.jsx)("div",{children:Object(u.jsxs)("table",{className:"mt-3 table table-striped text-center table-bordered table-hover table-sm",children:[Object(u.jsx)("thead",{children:Object(u.jsxs)("tr",{children:[Object(u.jsx)("td",{children:"IMAGE"}),Object(u.jsx)("td",{children:"NAME"}),Object(u.jsx)("td",{children:"SUMMA"}),Object(u.jsx)("td",{children:"DATE"})]})}),Object(u.jsx)("tbody",{children:c&&c.map((function(e,t){return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("tr",{children:Object(u.jsxs)("td",{colSpan:"4",children:["Customer Id: ",Object(u.jsx)("span",{className:"bg-light h5",children:e.customerId}),"  \xa0 \xa0 On \xa0  ",Object(u.jsx)("span",{className:"bg-light h3",children:e.date})," \xa0 date amount is \xa0 ",Object(u.jsx)("span",{className:"bg-warning h3",children:e.invoice.amount})]})}),e.details.map((function(t,c){return Object(u.jsxs)("tr",{children:[Object(u.jsx)("td",{width:"200px",children:Object(u.jsx)("img",{className:"card-img-top",src:"http://localhost:8040/auth/image?id=".concat(t.product.photos[0].id),alt:"Card",height:"100px"})}),Object(u.jsxs)("td",{children:[t.product.name," : ",t.product.description]}),Object(u.jsxs)("td",{children:[t.product.price," * ",t.quantity," = ",t.product.price*t.quantity]}),Object(u.jsx)("td",{children:e.date})]},c)})),Object(u.jsx)("td",{colSpan:"4",children:Object(u.jsx)("hr",{style:{border:"1px solid black"}})})]})}))})]})})}function q(e){var t=Object(a.useState)([]),c=Object(E.a)(t,2),n=(c[0],c[1]),s=Object(a.useState)([]),i=Object(E.a)(s,2),r=i[0],l=i[1],o=Object(a.useState)(e.match.params.id),d=Object(E.a)(o,2),j=d[0],b=(d[1],Object(a.useState)(0)),h=Object(E.a)(b,2),m=h[0],O=h[1],x=Object(a.useState)(),f=Object(E.a)(x,2),N=f[0],S=f[1];function y(e){(function(e){if(localStorage.getItem(p))return g({url:"/admin/deleteProductPhoto?id="+e,method:"DELETE"})})(e).then((function(e){O(m+1)}))}function C(e){var t=new FormData;t.append("multipartFile",N),function(e,t){if(localStorage.getItem(p))return g({url:"/admin/changeProductPhoto?productPhotoId="+e,method:"PUT",body:t})}(e,t).then((function(e){O(m+1)}))}return Object(a.useEffect)((function(){v(j).then((function(e){n(e.data),l(e.data.photos)}))}),[m]),Object(u.jsx)("div",{children:Object(u.jsxs)("table",{className:"mt-3 table table-striped text-center table-bordered table-hover table-sm",children:[Object(u.jsx)("thead",{children:Object(u.jsxs)("tr",{children:[Object(u.jsx)("td",{children:"ID"}),Object(u.jsx)("td",{children:"Images"}),Object(u.jsx)("td",{children:"Functions"})]})}),Object(u.jsx)("tbody",{children:r.map((function(e){return Object(u.jsxs)("tr",{children:[Object(u.jsx)("td",{children:e.id}),Object(u.jsx)("td",{children:Object(u.jsx)("img",{src:"http://localhost:8040/auth/image?id=".concat(e.id),alt:"Card",height:"250px",width:"600px"})}),Object(u.jsxs)("td",{children:[Object(u.jsx)("button",{className:"btn btn-primary",onClick:function(){return y()},children:"Delete this one"}),Object(u.jsx)("div",{children:Object(u.jsx)("input",{type:"file",placeholder:"file2",onChange:function(e){S(e.target.files[0])}})}),Object(u.jsx)("button",{className:"btn btn-primary",onClick:function(){return C(e.id)},children:"Change Product Photo"})]})]},e.id)}))})]})})}function F(e){var t=Object(a.useState)(""),c=Object(E.a)(t,2),n=c[0],s=c[1];return Object(u.jsx)("div",{className:"position-absolute",tabIndex:"-1",children:Object(u.jsx)("div",{className:"modal-dialog",children:Object(u.jsxs)("div",{className:"modal-content",children:[Object(u.jsxs)("div",{className:"modal-header",children:[Object(u.jsxs)("h4",{children:["You have to pay ",e.all," in 20 minute"]}),Object(u.jsx)("button",{className:"btn btn-secondary close",onClick:function(){e.opening()},children:" \xd7"})]}),Object(u.jsxs)("div",{className:"modal-body",children:[Object(u.jsx)("input",{type:"number",className:"form-control",value:n,onChange:function(e){s(e.target.value)},placeholder:"Enter Payment Summa",required:!0}),Object(u.jsx)("button",{className:"btn btn-secondary",onClick:function(){e.buy(n)},children:"Payment"})]})]})})})}function G(){var e=Object(a.useState)(1),t=Object(E.a)(e,2),c=t[0],n=t[1],s=Object(a.useState)(void 0),i=Object(E.a)(s,2),r=i[0],l=i[1],o=Object(a.useState)(0),d=Object(E.a)(o,2),j=d[0],b=d[1],h=Object(a.useState)(!1),m=Object(E.a)(h,2),O=m[0],x=m[1];function f(e){(function(e){if(localStorage.getItem(p))return g({url:"/customer/deleteDetails?id="+e,method:"DELETE"})})(e).then((function(e){n(c+1),O&&x(!O)}))}function v(e,t,a){t>1&&!a?C(e,t-=1).then((function(e){n(c+1)})):a&&C(e,t+=1).then((function(e){n(c+1)}))}function N(){O||function(){if(localStorage.getItem(p))return g({url:"/customer/payment",method:"GET"})}().then((function(e){x(!0)}))}return Object(a.useEffect)((function(){(function(){if(localStorage.getItem(p))return g({url:"/customer/getKarzinka",method:"GET"})})().then((function(e){var t=[].concat(e.data).sort((function(e,t){return e.id>t.id?1:-1}));l(t),function(e){var t=0;e.map((function(e){t+=e.quantity*e.product.price,b(t)}))}(e.data)}))}),[c]),void 0!==r?Object(u.jsxs)("div",{className:"container mt-3",children:[O?Object(u.jsx)(F,{opens:O,opening:function(){x(!O)},buy:function(e){(function(e){if(localStorage.getItem(p))return g({url:"/customer/buy?summa="+e,method:"POST"})})(e).then((function(e){alert("SUCCESS"),x(!O),l([]),n(c+1)}))},all:j}):null,Object(u.jsx)("div",{className:"form-group",children:Object(u.jsxs)("div",{className:"input-group-prepend",children:[Object(u.jsxs)("p",{className:"form-control",children:["Jami: ",j]}),Object(u.jsx)("button",{className:"form-control btn btn-primary",onClick:function(){N()},children:"Tolov qilish"})]})}),Object(u.jsxs)("table",{className:"mt-3 table table-striped text-center table-bordered table-hover table-sm",children:[Object(u.jsx)("thead",{children:Object(u.jsxs)("tr",{children:[Object(u.jsx)("td",{children:"IMAGE"}),Object(u.jsx)("td",{children:"NAME"}),Object(u.jsx)("td",{children:"Functions"}),Object(u.jsx)("td",{children:"DELETE"})]})}),Object(u.jsx)("tbody",{children:r.map((function(e,t){return Object(u.jsxs)("tr",{children:[Object(u.jsx)("td",{width:"300px",children:Object(u.jsx)("img",{className:"card-img-top",src:"http://localhost:8040/auth/image?id=".concat(e.product.photos[0].id),alt:"Card",width:"100px",height:"100px"})}),Object(u.jsxs)("td",{children:[e.product.name," ",Object(u.jsx)("br",{}),e.product.description]}),Object(u.jsxs)("td",{children:[e.product.price,Object(u.jsx)("div",{children:Object(u.jsxs)("ul",{className:"pagination",children:[Object(u.jsx)("li",{className:"page-item",children:Object(u.jsx)("button",{className:"page-link",onClick:function(){v(e.id,e.quantity,!1)},children:"-"})}),Object(u.jsx)("li",{className:"page-link",children:e.quantity}),Object(u.jsx)("li",{className:"page-item",children:Object(u.jsx)("button",{className:"page-link",onClick:function(){v(e.id,e.quantity,!0)},children:"+"})})]})})]}),Object(u.jsx)("td",{children:Object(u.jsx)("button",{className:"btn btn-primary",onClick:function(){f(e.id)},children:"X"})})]},t)}))})]})]}):Object(u.jsxs)("div",{className:"container mt-3",children:[Object(u.jsx)("table",{className:"mt-3 table table-striped text-center table-bordered table-hover table-sm",children:Object(u.jsx)("thead",{children:Object(u.jsxs)("tr",{children:[Object(u.jsx)("td",{children:"IMAGE"}),Object(u.jsx)("td",{children:"NAME"}),Object(u.jsx)("td",{children:"Functions"}),Object(u.jsx)("td",{children:"DELETE"})]})})}),"Nothing on fount"]})}function R(e){var t=Object(a.useState)(),c=Object(E.a)(t,2),n=c[0],s=c[1],i=Object(a.useState)(e.match.params.id),r=Object(E.a)(i,2),l=r[0],o=(r[1],Object(a.useState)(0)),d=Object(E.a)(o,2),j=d[0],b=d[1],h=Object(a.useState)(0),m=Object(E.a)(h,2),O=m[0],x=(m[1],Object(a.useState)(1)),p=Object(E.a)(x,2),g=p[0],f=p[1],N=Object(a.useState)(0),S=Object(E.a)(N,2),C=S[0],k=S[1];function w(e){(e>0&&j<n.photos.length-1||j>0&&e<0)&&b(j+e)}function P(e){e<0?g>1&&(f(g+e),k((g-1)*n.price)):(f(g+e),k((g+1)*n.price))}return Object(a.useEffect)((function(){v(l).then((function(e){s(e.data),k(g*e.data.price)}))}),[O]),void 0!==n?Object(u.jsxs)("div",{className:"container mt-4",children:[Object(u.jsx)("div",{className:"float-left",children:Object(u.jsxs)("ul",{className:"pagination",children:[Object(u.jsx)("li",{className:"page-item mr-3 mt-4",children:Object(u.jsx)("button",{className:"page-link",onClick:function(){w(-1)},children:" - "})}),Object(u.jsx)("li",{className:"page-link",children:Object(u.jsx)("img",{src:"http://localhost:8040/auth/image?id=".concat(n.photos[j].id),alt:"Card",width:"300px",height:"300px"})}),Object(u.jsx)("li",{className:"page-item ml-3 mt-4",children:Object(u.jsx)("button",{className:"page-link",onClick:function(){w(1)},children:" + "})})]})}),Object(u.jsxs)("div",{className:"float-right mt-4",children:[Object(u.jsxs)("h2",{children:["Name: ",n.name]}),Object(u.jsxs)("p",{children:["Description: ",n.description]}),Object(u.jsxs)("p",{children:["Price: ",n.price,"  Summa: ",Object(u.jsxs)("span",{className:"bg-warning",children:[" ",C]})]}),Object(u.jsx)("div",{className:"float-left",children:Object(u.jsxs)("ul",{className:"pagination",children:[Object(u.jsx)("li",{className:"page-item",children:Object(u.jsx)("button",{className:"page-link",onClick:function(){P(-1)},children:" - "})}),Object(u.jsx)("li",{className:"page-link",children:g}),Object(u.jsx)("li",{className:"page-item",children:Object(u.jsx)("button",{className:"page-link",onClick:function(){P(1)},children:" + "})})]})}),Object(u.jsx)("button",{className:"btn btn-primary ml-3",onClick:function(){y({product_id:l,product_quantity:g}).then((function(t){e.history.push("/karzinka")}))},children:"Add Karzinka"}),Object(u.jsx)("button",{className:"btn btn-danger ml-3 mr-4",children:"Buy Now"})]})]}):Object(u.jsx)("div",{children:"n nothing"})}function z(){var e=Object(a.useState)([]),t=Object(E.a)(e,2),c=t[0],n=t[1],s=Object(a.useState)(0),i=Object(E.a)(s,2),r=i[0];i[1];return Object(a.useEffect)((function(){(function(){if(localStorage.getItem(p))return g({url:"/customer/getAllInvoices",method:"GET"})})().then((function(e){var t=[].concat(e.data).sort((function(e,t){return e.id<t.id?1:-1}));n(t)}))}),[r]),Object(u.jsx)("div",{children:Object(u.jsxs)("table",{className:"mt-3 table table-striped text-center table-bordered table-hover table-sm",children:[Object(u.jsx)("thead",{children:Object(u.jsxs)("tr",{children:[Object(u.jsx)("td",{children:"IMAGE"}),Object(u.jsx)("td",{children:"NAME"}),Object(u.jsx)("td",{children:"SUMMA"}),Object(u.jsx)("td",{children:"DATE"})]})}),Object(u.jsx)("tbody",{children:c&&c.map((function(e,t){return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("tr",{children:Object(u.jsxs)("td",{colSpan:"4",children:["On \xa0  ",Object(u.jsx)("span",{className:"bg-light h3",children:e.date})," \xa0 date amount is \xa0 ",Object(u.jsx)("span",{className:"bg-warning h3",children:e.invoice.amount})]})}),e.details.map((function(t,c){return Object(u.jsxs)("tr",{children:[Object(u.jsx)("td",{width:"200px",children:Object(u.jsx)("img",{className:"card-img-top",src:"http://localhost:8040/auth/image?id=".concat(t.product.photos[0].id),alt:"Card",height:"100px"})}),Object(u.jsxs)("td",{children:[t.product.name," : ",t.product.description]}),Object(u.jsxs)("td",{children:[t.product.price," * ",t.quantity," = ",t.product.price*t.quantity]}),Object(u.jsx)("td",{children:e.date})]},c)})),Object(u.jsx)("td",{colSpan:"4",children:Object(u.jsx)("hr",{style:{border:"1px solid black"}})})]})}))})]})})}var _=function(e){Object(o.a)(c,e);var t=Object(d.a)(c);function c(e){var a;return Object(r.a)(this,c),(a=t.call(this,e)).loadCurrentUser=function(){localStorage.getItem(p)&&function(){if(localStorage.getItem(p))return g({url:"/all/getCurrentCustomer",method:"GET"})}().then((function(e){a.setState({currentUser:e.data,isAuthenticated:!0,isLoading:!1})}))},a.getLoaderRole=function(){localStorage.getItem(p)&&function(){if(localStorage.getItem(p))return g({url:"/all/getRole",method:"GET"})}().then((function(e){a.setState({role:e.data})})).catch((function(e){return console.log(e)}))},a.handleLogOut=function(){localStorage.removeItem(p),a.setState({currentUser:[],isAuthenticated:!1,isLoading:!0})},a.state={currentUser:[],isAuthenticated:!1,isLoading:!1,role:""},a}return Object(l.a)(c,[{key:"componentDidMount",value:function(){this.setState({isLoading:!0}),this.loadCurrentUser(),this.getLoaderRole()}},{key:"render",value:function(){return!this.state.isAuthenticated&&this.state.isLoading?Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)(j.a,{children:[Object(u.jsx)(h,{isAuthenticated:this.state.isAuthenticated,currentUser:this.state.currentUser}),Object(u.jsxs)(b.c,{children:[Object(u.jsx)(b.a,{path:"/signUp",exact:!0,component:A}),Object(u.jsx)(b.a,{path:["/login","/"],component:k})]})]})}):!this.state.isLoading&&this.state.isAuthenticated?"ADMIN"===this.state.role?Object(u.jsxs)(j.a,{children:[Object(u.jsx)(h,{isAuthenticated:this.state.isAuthenticated,currentUser:this.state.currentUser,logout:this.handleLogOut,role:this.state.role}),Object(u.jsxs)(b.c,{children:[Object(u.jsx)(b.a,{path:"/",exact:!0,component:P}),Object(u.jsx)(b.a,{path:"/category",exact:!0,component:U}),Object(u.jsx)(b.a,{path:"/setProduct",exact:!0,component:L}),Object(u.jsx)(b.a,{path:"/editProduct/:id",exact:!0,component:q}),Object(u.jsx)(b.a,{path:"/invoice",exact:!0,component:D}),Object(u.jsx)(b.a,{path:"/settings",exact:!0,component:T})]})]}):Object(u.jsxs)(j.a,{children:[Object(u.jsx)(h,{isAuthenticated:this.state.isAuthenticated,currentUser:this.state.currentUser,logout:this.handleLogOut,role:this.state.role}),Object(u.jsxs)(b.c,{children:[Object(u.jsx)(b.a,{path:"/",exact:!0,component:w}),Object(u.jsx)(b.a,{path:"/karzinka",exact:!0,component:G}),Object(u.jsx)(b.a,{path:"/seeMore/:id",exact:!0,component:R}),Object(u.jsx)(b.a,{path:"/invoice",exact:!0,component:z}),Object(u.jsx)(b.a,{path:"/payment",exact:!0,component:P}),Object(u.jsx)(b.a,{path:"/settings",exact:!0,component:T})]})]}):Object(u.jsx)("div",{children:"is Loading"})}}]),c}(a.Component),B=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,68)).then((function(t){var c=t.getCLS,a=t.getFID,n=t.getFCP,s=t.getLCP,i=t.getTTFB;c(e),a(e),n(e),s(e),i(e)}))};i.a.render(Object(u.jsx)(n.a.StrictMode,{children:Object(u.jsx)(_,{})}),document.getElementById("root")),B()}},[[67,1,2]]]);
//# sourceMappingURL=main.0fdf3566.chunk.js.map